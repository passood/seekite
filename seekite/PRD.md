# Seekite - 말씀 나눔 모바일 웹 애플리케이션 PRD

## 1. 개요

### 1.1 프로젝트명
**Seekite** (Seek + Light, 빛을 찾다)

### 1.2 목적
예배 후 말씀을 중심으로 5명의 소그룹 멤버가 각자의 묵상과 생각을 나누는 모바일 웹 애플리케이션. 단순한 메신저가 아닌, 성경 말씀을 주제로 구조화된 대화를 할 수 있는 공간을 제공한다.

### 1.3 핵심 차별점
| 카카오톡 등 일반 메신저 | Seekite |
|---|---|
| 자유로운 주제의 대화 | 말씀 본문이 항상 상단에 고정 |
| 대화가 흘러감 | 말씀 주제별로 대화가 정리됨 |
| 읽음/안읽음 압박 | 각자 편한 시간에 묵상 기록 |
| 실시간 채팅 중심 | 묵상 기록 + 나눔 중심 |

---

## 2. 사용자

### 2.1 타겟 사용자
- 예배 후 말씀 나눔을 하는 소그룹 (5명 고정 멤버)
- 모바일 환경에서 주로 사용

### 2.2 사용자 시나리오
1. 주일 예배 후, 리더가 오늘의 말씀 본문과 주제를 등록한다
2. 각 멤버가 자신의 묵상/생각을 말풍선 형태로 작성한다
3. 다른 멤버의 묵상을 읽고, 공감하거나 답글을 남긴다
4. 한 주간 언제든 돌아와서 추가 나눔을 할 수 있다

---

## 3. 기능 요구사항

### 3.1 인증 및 사용자 관리
- **간편 로그인**: 이름 + 4자리 PIN 입력으로 로그인 (5명 소그룹이므로 간소화)
- **프로필**: 이름, 프로필 색상(아바타 대용) 설정
- **멤버 고정**: 5명 멤버를 사전 등록하여 관리

### 3.2 말씀 주제 (Topic)
- **말씀 등록**: 리더가 새로운 말씀 주제를 생성
  - 성경 본문 (예: 요한복음 3:16-17)
  - 말씀 본문 텍스트
  - 주제/질문 (예: "이 말씀에서 가장 와닿는 부분은?")
  - 날짜 (예배 날짜)
- **말씀 목록**: 날짜순으로 지난 말씀 주제 목록 표시
- **말씀 상세**: 말씀 본문이 상단에 고정되고, 아래에 나눔 대화가 표시

### 3.3 나눔 대화 (Sharing)
- **말풍선 UI**: 각 멤버의 나눔이 말풍선 형태로 표시
  - 본인 메시지: 우측 정렬 (카카오톡 스타일)
  - 다른 멤버 메시지: 좌측 정렬
  - 멤버별 고유 색상으로 구분
- **묵상 작성**: 텍스트 입력으로 자신의 생각 기록
- **공감 표현**: 말풍선에 하트/아멘 등 간단한 리액션
- **답글**: 특정 말풍선에 대한 답글 (인용 형태)

### 3.4 화면 구성

#### 3.4.1 메인 화면 (말씀 목록)
```
┌─────────────────────────┐
│  Seekite            [+] │
│─────────────────────────│
│                         │
│  📖 2월 9일 주일예배     │
│  요한복음 3:16-17       │
│  나눔 5개               │
│─────────────────────────│
│  📖 2월 2일 주일예배     │
│  로마서 8:28            │
│  나눔 12개              │
│─────────────────────────│
│  📖 1월 26일 주일예배    │
│  시편 23편              │
│  나눔 8개               │
│                         │
└─────────────────────────┘
```

#### 3.4.2 말씀 나눔 화면
```
┌─────────────────────────┐
│  ← 2월 9일 주일예배      │
│─────────────────────────│
│ ┌─────────────────────┐ │
│ │ 요한복음 3:16-17    │ │
│ │ "하나님이 세상을     │ │
│ │  이처럼 사랑하사..." │ │
│ │                     │ │
│ │ 💬 이 말씀에서 가장  │ │
│ │ 와닿는 부분은?      │ │
│ └─────────────────────┘ │
│─────────────────────────│
│                         │
│  👤 영희                │
│  ┌──────────────┐       │
│  │ "이처럼"이라는 │      │
│  │ 표현이 와닿아요│      │
│  └──────────────┘       │
│           ❤️ 3  💬 1    │
│                         │
│       ┌──────────────┐  │
│       │ 저도 그 부분이│  │
│       │ 인상깊었어요  │  │
│       └──────────────┘  │
│                    나 👤 │
│                         │
│─────────────────────────│
│ [나눔 작성하기...]  [전송]│
└─────────────────────────┘
```

### 3.5 부가 기능
- **알림 없음**: 의도적으로 푸시 알림을 제외 (부담 없는 나눔 환경)
- **새 나눔 표시**: 접속 시 읽지 않은 나눔에 뱃지 표시 (비강제적)
- **말씀 하이라이트**: 나눔 작성 시 말씀 본문의 특정 구절을 인용 가능

---

## 4. 기술 스택

### 4.1 프론트엔드
- **Next.js 15** (App Router)
- **React 19**
- **Tailwind CSS** - 모바일 우선 반응형 디자인
- **PWA 지원** - 홈 화면 추가 가능

### 4.2 백엔드
- **Next.js API Routes** (Route Handlers)
- **Vercel Postgres** (@vercel/postgres)

### 4.3 배포
- **Vercel** - 자동 배포 (GitHub 연동)

---

## 5. 데이터 모델

### 5.1 ERD

```
members
├── id (PK, UUID)
├── name (VARCHAR)
├── pin_hash (VARCHAR)
├── color (VARCHAR) -- 프로필 색상
├── is_leader (BOOLEAN)
├── created_at (TIMESTAMP)
└── updated_at (TIMESTAMP)

topics
├── id (PK, UUID)
├── title (VARCHAR) -- "2월 9일 주일예배"
├── bible_ref (VARCHAR) -- "요한복음 3:16-17"
├── bible_text (TEXT) -- 말씀 본문
├── question (TEXT) -- 나눔 질문
├── worship_date (DATE) -- 예배 날짜
├── created_by (FK → members.id)
├── created_at (TIMESTAMP)
└── updated_at (TIMESTAMP)

messages
├── id (PK, UUID)
├── topic_id (FK → topics.id)
├── member_id (FK → members.id)
├── content (TEXT)
├── reply_to_id (FK → messages.id, NULLABLE) -- 답글 대상
├── created_at (TIMESTAMP)
└── updated_at (TIMESTAMP)

reactions
├── id (PK, UUID)
├── message_id (FK → messages.id)
├── member_id (FK → members.id)
├── type (VARCHAR) -- 'heart', 'amen', 'pray'
├── created_at (TIMESTAMP)
└── UNIQUE(message_id, member_id, type)

read_status
├── id (PK, UUID)
├── topic_id (FK → topics.id)
├── member_id (FK → members.id)
├── last_read_at (TIMESTAMP)
└── UNIQUE(topic_id, member_id)
```

---

## 6. API 설계

### 6.1 인증
| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/api/auth/login` | PIN 로그인 |

### 6.2 말씀 주제
| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | `/api/topics` | 말씀 목록 조회 |
| POST | `/api/topics` | 말씀 주제 생성 (리더만) |
| GET | `/api/topics/[id]` | 말씀 상세 + 나눔 조회 |

### 6.3 나눔 메시지
| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/api/topics/[id]/messages` | 나눔 작성 |
| GET | `/api/topics/[id]/messages` | 나눔 목록 조회 |

### 6.4 리액션
| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/api/messages/[id]/reactions` | 리액션 추가/제거 (토글) |

### 6.5 읽음 상태
| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | `/api/topics/[id]/read` | 읽음 상태 갱신 |

---

## 7. 페이지 구조

```
/                    → 로그인 페이지
/topics              → 말씀 목록 (메인)
/topics/new          → 말씀 주제 등록 (리더)
/topics/[id]         → 말씀 나눔 화면
/settings            → 프로필 설정
```

---

## 8. UI/UX 가이드라인

### 8.1 디자인 원칙
- **모바일 퍼스트**: 최대 너비 480px 기준 설계, 데스크톱에서는 중앙 정렬
- **따뜻한 톤**: 부드러운 색상 팔레트 (크림, 베이지, 올리브 계열)
- **여백 충분**: 묵상의 분위기에 맞는 여유로운 레이아웃
- **말풍선 디자인**: 둥근 모서리, 멤버별 고유 배경색

### 8.2 색상 팔레트
- 배경: `#FEFCF3` (따뜻한 크림)
- 주요 텍스트: `#2D2D2D`
- 말씀 카드 배경: `#F5F0E8` (연한 베이지)
- 멤버 색상 (5가지):
  - `#E8D5C4` (따뜻한 베이지)
  - `#C4D7E0` (하늘색)
  - `#D4E0C4` (연두)
  - `#E0D4E8` (연보라)
  - `#E8E0C4` (크림 옐로우)

### 8.3 타이포그래피
- 말씀 본문: 세리프 계열 (Noto Serif KR)
- 일반 텍스트: 산세리프 계열 (Pretendard)

---

## 9. 비기능 요구사항

### 9.1 성능
- 첫 로딩 2초 이내 (LCP)
- 말씀 나눔 화면 진입 시 1초 이내 메시지 표시

### 9.2 보안
- PIN은 해시 처리하여 저장
- 세션 기반 인증 (HTTP-only 쿠키 또는 JWT)

### 9.3 접근성
- 모바일 브라우저 (Chrome, Safari) 지원
- PWA 홈 화면 추가 지원

---

## 10. 향후 확장 가능성 (MVP 이후)
- 기도 제목 공유 기능
- 말씀 본문 자동 불러오기 (성경 API 연동)
- 주간 말씀 요약/리마인드
- 음성 묵상 녹음 기능
- 그룹 확장 (다수 소그룹 지원)

---

## 11. MVP 범위

### Phase 1 (MVP)
- [x] 멤버 등록 및 PIN 로그인
- [x] 말씀 주제 등록 (리더)
- [x] 말씀 나눔 작성 및 조회 (말풍선 UI)
- [x] 리액션 (하트/아멘)
- [x] 새 나눔 뱃지 표시

### Phase 2
- [ ] 답글(인용) 기능
- [ ] 말씀 구절 하이라이트 인용
- [ ] PWA 지원
- [ ] 프로필 설정 화면
